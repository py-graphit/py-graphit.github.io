

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial 1: Building simple graphs &mdash; Graphit 0.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Tutorials" href="../tutorials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Graphit
          

          
            
            <img src="../_static/graphit-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphit.html">graphit API reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../tutorials.html#tutorial-notebooks">Tutorial notebooks</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tutorial 1: Building simple graphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-graph-is-a-container-with-nodes-and-edges">A Graph is a container with nodes and edges</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Graphit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorials.html">Tutorials</a> &raquo;</li>
        
      <li>Tutorial 1: Building simple graphs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_tutorials/basics1_building_graphs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
            
  <div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import time
import logging

from graphit import Graph
from graphit.graph_helpers import graph_directionality

logging.basicConfig(level=logging.WARN)
</pre></div>
</div>
<div class="section" id="tutorial-1-building-simple-graphs">
<h1>Tutorial 1: Building simple graphs<a class="headerlink" href="#tutorial-1-building-simple-graphs" title="Permalink to this headline">¶</a></h1>
<p>This is the first tutorial in a series illustrating the basics of using
graphs in <strong>graphit</strong>. We start off by building a simple graph by adding
nodes and edges and later on removing them again.</p>
<div class="section" id="a-graph-is-a-container-with-nodes-and-edges">
<h2>A Graph is a container with nodes and edges<a class="headerlink" href="#a-graph-is-a-container-with-nodes-and-edges" title="Permalink to this headline">¶</a></h2>
<p>A graph is a collection of nodes (vertices) connected using edges. In
<strong>graphit</strong>, nodes and edges are contained in a <code class="docutils literal notranslate"><span class="pre">Graph</span></code> object and
they can represent any arbitrary piece of data as long as they are
hashable such as: text, numbers, images, files or even Python functions
or other objects.</p>
<p>The functionality for adding nodes and edges to a <code class="docutils literal notranslate"><span class="pre">Graph</span></code> is similar
to most other graph packages including the popular Python library
<a class="reference external" href="https://networkx.github.io">NetworkX</a> as is illustrated below.</p>
<div class="section" id="creating-a-graph">
<h3>1.1 Creating a graph<a class="headerlink" href="#creating-a-graph" title="Permalink to this headline">¶</a></h3>
<p>Create an empty <code class="docutils literal notranslate"><span class="pre">Graph</span></code> with no nodes and no edges.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>g = Graph()

print(g)
print(g.nodes, g.edges)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">0</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="p">[]</span> <span class="p">[]</span>
</pre></div>
</div>
<p><strong>Technical note 1: Node and edge storage</strong></p>
<p><strong>graphit</strong> uses flexible storage drivers to store node and edge
information. The default driver stores information as a Python
dictionary but this may well be a driver that stores information in a
high-performance data store. The storage driver API enforces key/value
storage in which the node identifier (nid) is the primary key and the
node attribute dictionary the value. A graph natively supports the
storage of multiple node attributes and therefor most node related
functions expect a node value to behave in a Python dictionary like
fashion.</p>
</div>
<div class="section" id="adding-nodes">
<h3>1.2 Adding nodes<a class="headerlink" href="#adding-nodes" title="Permalink to this headline">¶</a></h3>
<p>Use the graph <code class="docutils literal notranslate"><span class="pre">add_node</span></code> method to add a single node to the graph or
<code class="docutils literal notranslate"><span class="pre">add_nodes</span></code> for multiple nodes at once. Both methods return the unique
node identifier(s) for the node(s) just added to the graph.
<code class="docutils literal notranslate"><span class="pre">add_nodes</span></code> accepts any iterable object as a source of nodes.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Add a single node
nid = g.add_node(&#39;node&#39;)
print(nid, g)

# Adding multiple nodes at once
nids = g.add_nodes([1, 2, &#39;three&#39;])
print(nids, g)

# using a string as iterable source of characters
g.add_nodes(&#39;graphit&#39;)
print(g)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">1</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">4</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">11</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Important note 1: Node identifiers</strong></p>
<p>Every node added to the graph is stored allong with a node identifier
(nid) that can be used to retrieve the node at a later time. The
<code class="docutils literal notranslate"><span class="pre">Graph</span></code> class supports two methods to define node ID’s:</p>
<ol class="arabic simple">
<li><p>An automatically incremented integer identifier enabled by default
using the <code class="docutils literal notranslate"><span class="pre">Graph.auto_nid</span></code> attribute (set to True).</p></li>
<li><p>Using the node key (first argument to <code class="docutils literal notranslate"><span class="pre">add_node</span></code> as identifier
enabled by setting the <code class="docutils literal notranslate"><span class="pre">Graph.auto_nid</span></code> to False.</p></li>
</ol>
<p>The benefit of the first option is unique identification of every node
added even if the primary node key already exists. It will require the
user to keep track of the unique ID’s assigned to the nodes or querying
for a node using attribute based query methods.</p>
<p>These requirements are not needed with the second option. Here the node
key serves as the identifier (nid) and may be any hashable object except
<code class="docutils literal notranslate"><span class="pre">None</span></code>. A unique auto incremented ID (as with option 1) will still be
added to the node attribute storage but it will not be used for
identfication. The downside of method 2 is that the node key used may
not be unique in case of which the <code class="docutils literal notranslate"><span class="pre">add_node(s)</span></code> will complain not
adding the new node.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Using the node key as identifier
a = Graph(auto_nid=False)
nids = a.add_nodes([&#39;node&#39;, &#39;node2&#39;], node_attr=100)
print(nids)
print(a.nodes[&#39;node&#39;])
print(a.nodes.keys())

# Adding the same node again will not work
nid = a.add_node(&#39;node&#39;, node_attr=100)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span><span class="n">graphit</span><span class="p">:</span><span class="n">Node</span> <span class="k">with</span> <span class="n">identifier</span> <span class="s2">&quot;node&quot;</span> <span class="n">already</span> <span class="n">assigned</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node2&#39;</span><span class="p">]</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">[</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node2&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-data-to-nodes">
<h3>1.3 Adding data to nodes<a class="headerlink" href="#adding-data-to-nodes" title="Permalink to this headline">¶</a></h3>
<p>Any additional key/value pair used as input to the <code class="docutils literal notranslate"><span class="pre">add_node</span></code> or
<code class="docutils literal notranslate"><span class="pre">add_nodes</span></code> method will be added to the node storage</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>nid = g.add_node(&#39;node&#39;, node_attr=100, value=int(time.time()))
g.nodes[nid]
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1570207050</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
</pre></div>
</div>
<p>The node/edge storage exposes a dictionary like API (technical note 1).
For node with ID 14, it show the added data as dictionary key/value
pairs. The auto incremented node ID is stored as ’_id’ and the node key
as ‘key’</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>nids = g.add_nodes([&#39;data&#39;, 1.22, True, len], node_attr=100, value=int(time.time()))
for nid in nids:
    print(g.nodes[nid])
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1570207050</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="mf">1.22</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1570207050</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1570207050</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span> <span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;node_attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1570207050</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">add_nodes</span></code> additional keyword arguments will be added to all
nodes added from the iterable. If the iterable contains a tuple or list
of length 2 with a dictionary at the second position, the key/value
pairs of that dictionary will be used as attributes in the new node
together with addtional keyword arguments to <code class="docutils literal notranslate"><span class="pre">add_nodes</span></code> if defined.
This functionality can be used for adding the nodes of one graph as new
nodes to another as illustrated below.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Build the first graph
b = Graph()
b.add_nodes(&#39;second&#39;, attr=True)

# Add nodes of graph b to g
nids = g.add_nodes(b.nodes.items())
for nid in nids:
    print(g.nodes[nid])
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">22</span><span class="p">}</span>
</pre></div>
</div>
<p>Now graph <em>g</em> contains the nodes of graph <em>b</em> as new nodes.
Alternativly, you could use the full graph <em>b</em> as node in <em>g</em>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>nid = g.add_node(b)
print(g.nodes[nid])
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4420139048</span><span class="p">:</span> <span class="mi">6</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="mi">23</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Technical note 2: unicode support</strong></p>
<p><strong>graphit</strong> commits to the use of unicode strings as much as possible
both in python 2.x and 3.x. All data keys and values that are strings
are stored in unicode. When using data collections as value such as
lists, dictionaries or tuples, the user is responsible for ensuring
unicode complience. In python 3.x all strings are unicode by default.</p>
</div>
<div class="section" id="adding-edges">
<h3>1.4 Adding edges<a class="headerlink" href="#adding-edges" title="Permalink to this headline">¶</a></h3>
<p>Adding edges is in general anologous to adding nodes by using the
<code class="docutils literal notranslate"><span class="pre">add_edge</span></code> and <code class="docutils literal notranslate"><span class="pre">add_edges</span></code> methods. The difference is that both
methods require as argument two node identifiers that form the edge. The
identifiers are either two automatically generated unique ID’s or custom
ones (see important node 1).</p>
<p><strong>Graph directionality</strong></p>
<p>An edge between two nodes can be un-directional (edge points both ways)
or directional (edge only points one way). Global directionality of a
graph is set using <code class="docutils literal notranslate"><span class="pre">graph.directed</span></code> attribute which is False by
default yielding an un-directional graph. Global directionality can be
overruled in <code class="docutils literal notranslate"><span class="pre">add_edge(s)</span></code> allowing for mixed graphs.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Adding an edge in an un-directed graph
eid = g.add_edge(1, 2, edge_attr=&#39;text&#39;)

print(eid)
print(g, g.directed)
print(g.edges())
print(graph_directionality(g))
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">23</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">2</span> <span class="n">edges</span><span class="o">&gt;</span> <span class="bp">False</span>
<span class="p">{(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;edge_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">},</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;edge_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">}}</span>
<span class="n">undirectional</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Add directed edge.
eid = g.add_edge(2, 3, directed=True)

print(g.edges())
print(graph_directionality(g))
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;edge_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">},</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;edge_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">},</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span> <span class="p">{}}</span>
<span class="n">mixed</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Add multiple edges at once
eids = g.add_edges([(2, 4), (4, 5), (4, 6), (5, 7), (6, 8), (7, 9)], global_attr=True)
eids += g.add_edges([(8, 9, {&#39;attr&#39;: 100}), (9, 10), (10, 11, {&#39;text&#39;: False}), (10, 12), (10, 13)], global_attr=True)

print(g)
for eid in eids:
    print(g.edges[eid])

# Adding the same edge again will not work
g.add_edge(2, 4)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span><span class="n">graphit</span><span class="p">:</span><span class="n">Edge</span> <span class="n">between</span> <span class="n">nodes</span> <span class="mi">2</span><span class="o">-</span><span class="mi">4</span> <span class="n">exists</span><span class="o">.</span> <span class="n">Use</span> <span class="n">edge</span> <span class="n">update</span> <span class="n">to</span> <span class="n">change</span> <span class="n">attributes</span><span class="o">.</span>
<span class="n">WARNING</span><span class="p">:</span><span class="n">graphit</span><span class="p">:</span><span class="n">Edge</span> <span class="n">between</span> <span class="n">nodes</span> <span class="mi">4</span><span class="o">-</span><span class="mi">2</span> <span class="n">exists</span><span class="o">.</span> <span class="n">Use</span> <span class="n">edge</span> <span class="n">update</span> <span class="n">to</span> <span class="n">change</span> <span class="n">attributes</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">23</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">25</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;global_attr&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">add_edge(s)</span></code> method supports a shortcut for fast graph creation
by adding nodes based on edge identifiers using the <code class="docutils literal notranslate"><span class="pre">node_from_edge</span></code>
argument</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>c = Graph()
c.add_edges([(1, 2), (2, 4), (4, 5), (4, 6), (5, 7), (6, 8), (7, 9)], node_from_edge=True)

print(c)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422743816</span><span class="p">:</span> <span class="mi">8</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">14</span> <span class="n">edges</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-nodes-and-edges">
<h3>1.5 Removing nodes and edges<a class="headerlink" href="#removing-nodes-and-edges" title="Permalink to this headline">¶</a></h3>
<p>It may not come as a surprise but removing nodes and edges is
accomplished using similar methods as adding them namely:
<code class="docutils literal notranslate"><span class="pre">remove_node</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_nodes</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_edge</span></code> and <code class="docutils literal notranslate"><span class="pre">remove_edges</span></code>.</p>
<p>Removing nodes will also remove edges depending on it and adjust node
adjacency. Removing edges will not remove associated nodes but will
adjust adjacency. The <code class="docutils literal notranslate"><span class="pre">graph.directed</span></code> attribute controlling graph
directionality when adding edges also affects the removal of them. When
<code class="docutils literal notranslate"><span class="pre">remove_edge(s)</span></code> is called with the <code class="docutils literal notranslate"><span class="pre">directed=True</span></code> argument on an
un-directed graph then only one edge of the pair of edges is removed
otherwise both edges will be removed.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Removing a single node
g.remove_node(4)

# Node 4 no longer in adjacency
print(4 in g.adjacency)

# Node more edges with node 4
print([edge for edge in g.edges if 4 in edge])
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="bp">False</span>
<span class="p">[]</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(g)

# Removing multiple nodes
g.remove_nodes([1,2,3,5])
print(g)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">22</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">19</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">18</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">14</span> <span class="n">edges</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Removing edges works in a similar way
g.remove_edge(6, 8)

print(g.getnodes([6, 8]))  # Nodes are still there
print(8 in g.adjacency[6]) # Adjacency is adjusted
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422640296</span><span class="p">:</span> <span class="mi">2</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="bp">False</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(g)

# Removing multiple edges
g.remove_edges([(9, 7), (11, 10), (9, 8)])

print(g)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">18</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">12</span> <span class="n">edges</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">18</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">6</span> <span class="n">edges</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Removing all nodes and edges from a graph has a shortcut <code class="docutils literal notranslate"><span class="pre">clear</span></code>
method.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>g.clear()
print(g)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span>WARNING:root:(10, 9) defines a reference ($ref) to non-existing (9, 10)
WARNING:root:(12, 10) defines a reference ($ref) to non-existing (10, 12)
WARNING:root:(13, 10) defines a reference ($ref) to non-existing (10, 13)
</pre></div>
</div>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GraphBase</span> <span class="nb">object</span> <span class="mi">4422259192</span><span class="p">:</span> <span class="mi">0</span> <span class="n">nodes</span><span class="p">,</span> <span class="mi">0</span> <span class="n">edges</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
    <a href="https://github.com/py-graphit/py-graphit">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../tutorials.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Marc van Dijk, VU University, Amsterdam

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>